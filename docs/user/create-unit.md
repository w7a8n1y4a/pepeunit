# Создание Unit в Pepunit

:::warning Что нужно?
Достаточно настроенного Repo у которого указана default ветка.
:::

Перейдите в нужный вам Repo и найдите подсвеченную зелёным кнопку создания Unit.

## Имя вашего Unit

Требования:
1. Уникальность на текущем инстансе
1. Длинна от `4` до `20` символов
1. Разрешённые символы: `a-z, A-Z, 0-9 и _.-`

:::info
Можно изменить в будущем
:::

## Уровень видимости
1. Выберите один из трёх Уровней Видимости

:::info
Можно изменить в будущем
:::

## Блок автообновлений

Доступны два режима:
1. `Auto-update = True` - в данном режиме Unit подчиняется Repo, в соответствии с [флагами массовых обновлений](/user/settings-repo.md#флаги-массовых-обновлении)
2. `Auto-update = False` - ручной режим обновлений Unit, требует ввести [ветку](/definitions#git-branch) и [коммит](/definitions#git-commit).

## Выбор платформы для компилируемых Repo

Данная опция есть только у Unit создающихся на основе компилируемых Repo, каждый элемент выбора здесь - это по сути выбор готовой бинарной версии приложения, соответстующий целевому [Тегу](/definitions#git-tag).

:::info
Данные параметры забираются на основе `assets` из релизов `GIT` репозиториев. Разработчики обычно хранят там скомпилированные версии своих приложений - это могут быть скомпилированные программы микроконтроллеров, `.exe` файлы, `.bin` файлы и тд. Сервисы `Gitlab` и `Github` включают сюда также архивы с файлами релиза - `zip`, `tar` ...
:::

# Создание Unit физически

Вы создали представление Unit, пол дела сделано. Теперь нужно настроить окружение и получить файлы для развёртывания на вашем устройстве.

## Настройка окружения

Нажмите на зелёную кнопку установки переменных окружения, здесь вас встретят переменные которые нужно заполнить. Обычно разработчики Repo преднастраивают их для корректной работы Unit, но часть из них как например `WIFI_SSID` и `WIFI_PASS` нужно заполнить вашими данными.

Подсказку о функциональном назначении каждой переменной, обычно можно найти внутри git репозитория - файл [Readme](/definitions#readme-file).

После нажатия кнопки Update, переменные которые вы добавили сохранятся, а также добавятся стандартные переменные Pepeunit, требующиеся для корректной работы Unit.

## Получение файлов развёртывания

В зависимости от того компилируемый ли у вас Repo, процесс получения файлов будет отличаться:

### Компилируемый Repo

Вам потребуется скачать два компанента вашего будущего Unit: 
1. Cкомпилированную часть из блока с ссылками на `Compiled Firmware Platforms`
1. Архив из `Firmware with env.json and schema.json`.

Вам нужно будет расположить файлы из архива в одной дирректории с скомпилированной частью, чтобы они увидели друг друга

### Интерпритируемый Repo

Достаточно скачать архив с Firmware, в нём будут находиться все нужные вам файлы. После распаковки архива вы будете готовы перейти на следующую стадию.

## Первое развёртывание

Обычно требуется загрузить файлы полученные на предидущем этапе на ваш физический носитель и соблюсти условия запуска.

Для микроконтроллеров `esp32, stm ...` потребуется загрузить файлы в `flash` память, и запустить работу устройства через `reset`

Для `Desktop` приложений обычно достаточно запустить бинарный файл или вызвать командой интерпритатора нужный файл.

:::warning
Здесь не может быть универсального правила, т.к. Unit могут быть совершенно разнообразны, обычно разработчики оставляют инструкцию как корректно заставить Unit работать в [Readme](/definitions#readme-file) git репозитория.
:::
