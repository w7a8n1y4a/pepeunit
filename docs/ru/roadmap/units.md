# Идеи Unit

## Модульный конструктор 3D моделей

1. Формат многоразового силового крепления для usb C
1. Ласточкины хвосты для крепления блоков между собой
1. Сетка типоразмеров
1. Фиксаторы ласточкиных хвостов
1. Разьёмные соединения без ласточкиных хвостов
1. Разьёмные ласточкины хвосты, как на дин рейках или что-то придумать
1. Стандартные отверстия для проводов
1. Стандартные сетки для охлажения / проветривания
1. Стандартные скругления
1. Лепестковый дизайн

## Актёры

У каждого Unit должен быть набор ff_, позволяющих разнообразить физическую конфигурацию:
1. ff_ позволяющий приципить rgb светодиод или экран, если это уместно в устройстве
1. ff_ отключения избыточных сенсоров
1. ff_ 

### Реле

1. Топики:
    - output - relay_state/pepeunit
    - output - current_command/pepeunit
    - input - relay_command/pepeunit
1. Переменные:
    - FF_LOW_ENERGY_ENABLE - включен ли режим энеросбережения
    - FF_TIMER_ENABLE - разрешены ли команды включения по таймеру
    - PWM_FREQUENCY - частота шим сигнала
    - RELAY_PIN_NUM - номер реле пина
    - FORCE_ACTIVATION_PIN - номер пина принудительного включения
    - FORCE_DEACTIVATION_PIN - номер пина принудительного выключения
1. разные типы управления:
    - пин для принудительного выключения при подаче напряжения (датчик света или принудительное отключение)
    - пин для принудительного включения при подаче напряжения с обработкой debounce (например надо врубать свет когда что-то включается)
    - state_set - установка состояния 1/0 с установкой pwm - посмотреть как работает pwm чтобы сделать либо проценты либо разрядность
    - temporary_activation - мгновенное включение на N миллисекунд
    - timer_activation - включение по таймеру на заданное время (если включен сервер времени)
1. Нужно указать приоритет команд управления, чтобы можно было отменять действия понятным аглоритмом
1. Подумать о структуре очереди на вход

### Кнопка

1. Типы нажатий:
    - одинарное с заданной временной длинной
    - двойное
    - тройное
    - длинное
2. Обработка дебаунса

### Экран

1. Простой олед 128/64, выводить фреймы с нужной частотой

### Станция микроклимата на bme280 и mh-z19b - esp8266
- очень миниатюрная штука для измерения влажности, температуры, давления и co2.

### esp32 с камерой

Должен сочитаться с дополнительным сервисом, который может хранить снимки, например minio, указываемый просто в настройках. Посылает в минио данные сам желательно, в топик с /pepeunit шлёт uuid или аналог

1. Режимы работы
    - Снимки по запросу
    - Таймлапс с энерго и без сбережения
1. Параметры сьёмки
    - разрешение
    - выдержка и тд

### Весы

Ручные весы на тензодатчике и рамкой в форме квадратного нержавеющего штыря ~ 8х8 мм с спец проризями для удобных измерений

1. Компаненты
    - тензодатчик
    - 18650
    - экран
    - энкодер
1. Тип вывода
    - Ньютоны
    - Граммы
1. Режимы работы
    - Ручной - единичные измерения
    - Динамический - стриминг значений с заданным периодом

## Управление

### Hotkey приложение на go
- отслеживания горячих клавиш и набор параметров для отправки

### Hotkey sniffer на esp8266
- с переключением на несколько `type-c` устройств, вход от клавиатуры 1, а выводов 3 или 4. Перехватывает поток символов с клавиатуры и передаёт на вход какого-либо устройства или серии устройств, так же позволяет через горячие клавиши переключаться между устройствами - простейший kvm свичер. По сути позволяет управлять какой-либо инфраструктурой без ЭВМ

### Pipeline тригер на esp8266
- последовательное нажате на него, каждый раз активирует новый этап или этапы каких либо задач, должен быть цветной светодиод для индикации выполнения текущей задачи. Линейные и цикличные режимы

### Планировщик
- Планирование действий с возможностью отмены
- Основное действие применяется через заданное время
- Пока идёт это время, действие можно отменить

### Wifi модуль для flipper на основе esp32
- управление тем чем можно через mqtt и получение данных из вне, возможность получать уведомления и тд
- подключение к wifi  только для отправки сообщений, это очень крепко сэкономит батарейку флипперу
