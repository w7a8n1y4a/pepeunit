# 0.8.0 Публичные Repo из github и gitlab

## Реализация
Создаётся repository_regestry:
- uuid
- тип внешнего источника
- ссылка на источник - unique
- время создания
- статус синхронизации
- текст ошибки
- время последней синхронизации
- размер дирректории

1. Все репозитории мигрируют из Repo в repository_regestry
1. Придумать систему обновления по доменам. Процесс обновления должен уметь не дудосить репозитории, а постепенно методично обновляться.
1. Нужена пороговая скорость запросов на домен, вынести в env
1. Данные в repository_regestry обновляются каждые N часов через эту систему, с возможностью полного отключения этой функции
1. Админ может принудительно заставить обновиться как все репозитории так и по отдельности
1. Пользователь может нажать обновление у Repo, для которого он является создателем. Система попытается обновить RepositoryRegestry
1. В системе должно быть общее время скипа обновления, задаваемое через env, например 10 секунд. Чтобы кнопкой нельзя было задудосить внешний сервис


Нюансы:
- Все данные хранятся в RepositoryRegestry, но для приватный репозиториев креды доступа, хранятся в сущности Repo.
- Assets для репозитория должны храниться в RepositoryRegestry, но настройка компилируемости должна находиться в Repo
- Нужно проверить можно ли читать файлы множество раз через gitpython, от этого будет зависеть реализация, копирование или подмена uuid

## Ожидаение

1. У Repo будет плашка последнего обновления, его статуса и ошибки. За счёт саб сущности в schema структуре
1. Кнопка создания Repo будет подменена, на кнопку поиска по RepositoryRegestry, но будет кнопка и создания на прямую
1. При создании Repo напрямую, ищем в RepositoryRegestry такой же линк, и если его нет пытаемся скачать и добавить в RepositoryRegestry
1. Появится ручка отдающая существующие публичные репозитории, с сортировками:
    - по числу unit
    - числу repo
    - датам
    - размеру
    - типу внешнего источника
    - статусу обновления
    - времени синхронизации - важно для админа
    - времени создания
    - поиск по description и name
1. Админ должен уметь искать по всем включая приватные, но возможности скачать у него быть не должно, доступ до Credentials только для Создателей
1. Хорошо бы парсить Description и некоторые базовые поля из readme.md для улучшенного поиска по публичным репозиториям
1. Фикс проблемы github в интеграционных тестах
1. Обновлены сами Интеграционные тесты