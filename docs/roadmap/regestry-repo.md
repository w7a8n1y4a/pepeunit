# 0.8.0 Публичные Repo из github и gitlab

## Реализация

1. Все репозитории мигрируют из Repo в RepositoryRegestry и становятся уникальными по url
1. Создание записей в реестре отделяется от создания Repo
1. Публичные репозитории в реестре будут доступны для создания Repo всем без авторизации, приватные только внутри инстанса
    - Чтобы создать Repo от публичных ничего не требуется
    - Чтобы создать Repo от приватных нужно указать креды, указание нужно сделать в просмотре RepositoryRegistry
1. Появляется новая система кредов для приватных репозиториев, это будет шифрованая строка в сущности RepositoryRegestry
    - Поля: Status (Valid, InValid), Credentials, user_uuid
1. Обновить публичный репозиторий, может любой, но лимит запросов в единицу времени задаётся бекендом через env переменную, например 10 секунд
1. Обновить приватный репозиторий, может любой у кого указаны креды со статусом Valid, при ручном обновлении используется кред юзера которые обновляет
    - При автоматическом обновлении производится первым валидным кредом
    - При автоматическом обновлении креды проверяются последовательно на валидность
    - Предоставление доступа к приватному репозиторию во внешней системе целиком на плечах создателя приватного репозитория
    - Потенциальная утечка кредов доступа разных пользователей через .git/config в интерпритируемых репозиториях, целиком на плечах создателя репозитория, т.к. .git должен быть в .pepeignore
1. Данные в RepositoryRegestry обновляются каждые N часов через эту систему, с возможностью полного отключения этой функции
1. Админ может принудительно сэмулировать вызов который производится каждые N часов, таймеры синхрониизации должны работать при этом штатно
1. Ассеты хранятся в RepositoryRegestry

## Ожидаение

1. RepositoryRegestry позволяет без аутентификации знать о всех публичных репозиториях внутри инстанса
1. RepositoryRegestry позволяет аутентифициорванным видеть все приватные репозитории и вводить для них креды
1. Repo создаются только через поиск в RepositoryRegestry
    - Публичные создаются сразу
    - Приватные проверяют статус креда
1. В RepositoryRegestry отображается время последнего обновления, статус и ошибка если есть
1. Хорошо бы парсить Description и некоторые базовые поля из readme.md для улучшенного поиска по публичным репозиториям
1. Фикс проблемы github в интеграционных тестах
1. Обновлены сами Интеграционные тесты